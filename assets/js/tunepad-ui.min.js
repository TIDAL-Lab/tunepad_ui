var TunePadUI=function(e){"use strict";const t=new CSSStyleSheet;t.replaceSync("#ring {\n    fill: #3e3e3c;\n    stroke: none;\n}\n.track {\n    fill: #181818;\n    stroke: black;\n    stroke-width: 1.5;\n}\n#arc {\n    stroke: #7ff;\n    stroke-width: 7;\n    fill: none;\n}\n.active #arc {\n    stroke: white;\n}\n#pointer {\n    stroke: #ddd;\n    stroke-width: 6;\n    pointer-events: none;\n}\n#container {\n    max-width: 100px;\n    user-select: none;\n}\n.tick {\n    fill: #999;\n}\n.cover {\n    fill: #fff2;\n    stroke: #fff1;\n    stroke-width: 4;\n    pointer-events: none;\n}");class n extends HTMLElement{get value(){const e=this.maxValue-this.minValue;return this.minValue+this._value*e}set value(e){const t=this.maxValue-this.minValue;e=Math.min(this.maxValue,Math.max(this.minValue,e)),this._value=(e-this.minValue)/t,this._redraw()}get angle(){const e=this.maxAngle-this.minAngle;return this._value*e+this.minAngle}constructor(){super(),this.minAngle=0,this.maxAngle=1.5*Math.PI,this.minValue=0,this.maxValue=1,this._value=0,this._startVal=0,this.root=this.attachShadow({mode:"open"}),this.root.adoptedStyleSheets.push(t),this.root.innerHTML='<div id="container">\n    <svg version="1.1" viewBox="-50 -50 100 100">\n        <g transform="rotate(135, 0, 0)">\n            <circle class="track" cx="0" cy="0" r="49"/>\n            <path id="arc" d=""/>\n            <circle id="ring" cx="0" cy="0" r="36"/>\n            <line id="pointer" x1="0" y1="0" x2="0" y2="46"/>\n            <circle class="cover" cx="0" cy="0" r="27"/>\n            <circle class="tick" cx="55" cy="0" r="4"/>\n            <circle class="tick" cx="0" cy="-55" r="4"/>\n        </g>\n    </svg>\n</div>\n',this.container=this.root.querySelector("#container"),this.ring=this.root.querySelector("#ring"),this.line=this.root.querySelector("#pointer"),this.arc=this.root.querySelector("#arc"),this._value=1}connectedCallback(){this.value=this._startVal,this._redraw();let e=!1,t=-1;this.ring.addEventListener("pointerdown",(n=>{e=!0,t=n.clientY,this.container.classList.add("active")})),document.addEventListener("pointermove",(n=>{if(e){const e=t-n.clientY;t=n.clientY,this._value=Math.max(0,Math.min(1,this._value+e/100)),this._redraw(),this.emitEvent("adjusted")}})),document.addEventListener("pointerup",(t=>{e&&(e=!1,this.container.classList.remove("active"),this.emitEvent("changed"))}))}disconnectedCallback(){}attributeChangedCallback(e,t,n){"min"===e?this.minValue=parseFloat(n):"max"===e?this.maxValue=parseFloat(n):"value"===e&&(this.isConnected?this.value=parseFloat(n):this._startVal=parseFloat(n))}emitEvent(e){this.dispatchEvent(new CustomEvent(e,{bubbles:!0,composed:!0,detail:{origin:this,value:this.value}}))}_redraw(){const e=Math.cos(this.angle),t=Math.sin(this.angle);this.line.setAttribute("x1",""+15*e),this.line.setAttribute("y1",""+15*t),this.line.setAttribute("x2",""+33*e),this.line.setAttribute("y2",""+33*t),this.arc.setAttribute("d",this._describeArc(43))}_describeArc(e){const t=e*Math.cos(this.angle),n=e*Math.sin(this.angle);return["M",e*Math.cos(0),e*Math.sin(0),"A",e,e,0,this.angle>=Math.PI?1:0,1,t,n].join(" ")}}n.ELEMENT="range-dial",n.observedAttributes=["min","max","value"];const s=new CSSStyleSheet;s.replaceSync('.menu-container {\n  position: relative;\n}\n\ncontext-menu {\n    position: absolute;\n    background-color: white;\n    border: 1px solid #0001;\n    border-radius: 8px;\n    padding: 8px 0;\n    z-index: 100;\n    display: flex;\n    flex-direction: column;\n    min-width: 200px;\n    box-shadow: 0px 3px 5px #0005;\n    -webkit-touch-callout: none;\n    user-select: none;\n    margin: 0;\n}\ncontext-menu.hidden { display: none; }\ncontext-menu:hover { cursor: pointer; }\ncontext-menu.terminal {\n    max-height: 70vh;\n    overflow-y: auto !important;\n}\ncontext-menu.open-up {\n  bottom: 30px;\n}\ncontext-menu-item {\n    line-height: 140%;\n    display: flex;\n    align-items: center;\n    font-size: 14px;\n    font-weight: normal;\n    color: #3C4E60;\n    outline: none;\n    border: none;\n    padding: 5px 20px 5px 10px;\n    white-space: nowrap;\n    position: relative;\n    text-align: left;\n}\ncontext-menu-item:hover { background: rgba(0, 0, 0, 0.15); }\ncontext-menu-item:active { background: rgba(0, 0, 0, 0.2); }\ncontext-menu-item.highlight { background: rgba(0, 0, 0, 0.085); }\ncontext-menu-item.disabled { color: #aaa; }\ncontext-menu-item.disabled:hover { background-color: transparent; }\ncontext-menu-item.disabled:active { background-color: transparent; }\ncontext-menu-item.disabled .icon { opacity: 0.3; }\ncontext-menu-item.hidden { display: none; }\ncontext-menu-item > context-menu { left: 98%; top: -10px; }\n\ncontext-menu-item .icon {\n    width: 1.1rem;\n    height: 1.1rem;\n    margin: 0 1rem 0 0.1rem;\n    opacity: 1.0;\n}\ncontext-menu-item .expand {\n  text-align: right;\n  position: relative;\n  left: 5px;\n  font-size: 90%;\n  width: 2em;\n  flex: 1;\n}\ncontext-menu-item .checkmark {\n  width: 1.1rem;\n  height: 1.1rem;\n  margin: 0;\n  display: none;\n}\ncontext-menu-item[checked="true"] .checkmark {\n  display: block;\n}\ncontext-menu-item:has(context-menu-item[checked="true"]) {\n  background-color: #0002;\n}\ncontext-menu-item .name {\n  flex: 1;\n}\ncontext-menu-item .expand::before {\n  content: "▸";\n  font-size: 17px;\n  color: rgba(0,0,0,0.6);\n  font-weight: 600;\n}\n.menu-separator {\n    border-top: 1px solid #0005;\n    margin: 10px;\n    height: 2px;\n}');var i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"/></svg>';const o=s;class r extends HTMLElement{constructor(){super(),this.classList.add("hidden")}emitEvent(e){this.dispatchEvent(new CustomEvent(e,{bubbles:!0,composed:!0,detail:{origin:this}}))}async connectedCallback(){this.parentElement.addEventListener("pointerdown",(e=>{this.classList.toggle("hidden"),e.stopPropagation(),this.emitEvent("context-menu-open")})),document.addEventListener("pointerdown",(e=>{this.classList.add("hidden")})),document.addEventListener("context-menu-open",(e=>{e.detail.origin!==this&&this.classList.add("hidden")})),this.addEventListener("context-menu-action",(e=>{this.classList.add("hidden")}))}}r.ELEMENT="context-menu";class a extends HTMLElement{get checked(){return"true"===this.getAttribute("checked")}get action(){return this.getAttribute("action")}constructor(){super(),this.disabled=!1,this.name=document.createElement("div"),this.name.classList.add("name"),this.icon=document.createElement("div"),this.icon.classList.add("icon"),this.expand=document.createElement("div"),this.expand.classList.add("expand"),this.checkmark=document.createElement("div"),this.checkmark.classList.add("checkmark")}emitEvent(e){this.dispatchEvent(new CustomEvent(e,{bubbles:!0,composed:!0,detail:{origin:this,action:this.action,checked:this.checked}}))}async connectedCallback(){this.appendChild(this.icon),this.appendChild(this.name);const e=this.querySelector("context-menu");e?this.appendChild(this.expand):(this.appendChild(this.checkmark),this.checkmark.innerHTML=i),this.addEventListener("pointerdown",(e=>e.stopImmediatePropagation())),this.addEventListener("pointerup",(t=>{e?(this.parentElement?.querySelectorAll("context-menu").forEach((e=>e.classList.add("hidden"))),e.classList.remove("hidden")):this.disabled||e||(this.toggleChecked(),setTimeout((()=>this.emitEvent("context-menu-action")),100))}))}attributeChangedCallback(e,t,n){"name"===e?this.name.innerHTML=n:"icon"===e?this.icon.innerHTML=`<tunepad-icon icon="${n}"></tunepad-icon>`:"disabled"===e?(this.disabled="true"===n,this.classList.toggle("disabled",this.disabled)):"checked"===e&&"true"===n&&this.setChecked()}uncheckSiblings(e){let t=this.parentElement,n=t;for(;n instanceof r||n instanceof a;)n=n.parentElement,n instanceof r&&(t=n);t?.querySelectorAll(`context-menu-item[radio-group=${e}]`).forEach((e=>{e instanceof a&&e!==this&&e.setAttribute("checked","false")}))}setChecked(){if(this.hasAttribute("radio-group")){const e=this.getAttribute("radio-group");this.uncheckSiblings(e)}}toggleChecked(){this.hasAttribute("checked")&&this.setAttribute("checked",`${!this.checked}`)}}a.ELEMENT="context-menu-item",a.observedAttributes=["name","icon","action","disabled","checked"];const c=new CSSStyleSheet;c.replaceSync(":host {\n    width: 370px;\n    height: 370px;\n    display: block;\n}\n\n.container svg {\n    width: 100%;\n    height: auto;\n}\n\ncircle {\n    stroke-width: 3;\n    stroke: black;\n    fill: none;\n}\n\ncircle.center {\n    fill: white;\n}\n\ncircle.major {\n    fill: #eee;\n}\n\ncircle.minor {\n    fill: white;\n}\n\nline.arc {\n    stroke-width: 3;\n    stroke: black;\n}\n\ntext {\n    text-anchor: middle;\n    dominant-baseline: central;\n    font-family: sans-serif;\n    font-size: 34px;\n    font-weight: bold;\n    user-select: none;\n    pointer-events: none;\n}\n\ntext.minor {\n    font-size: 25px;\n    font-weight: bold;\n}\n\ntext.selection {\n    font-size: 34px;\n}\n\n.accidental {\n    font-size: 60%;\n}\n\npath {\n    fill: rgba(255, 255, 255, 0);\n    stroke: none;\n}\n\npath:hover {\n    fill: rgba(0, 200, 255, 0.5);\n}\n\npath:active, path.highlight {\n    fill: rgba(0, 200, 255, 1.0);\n}\n\npath.minor:hover {\n    fill: rgba(255, 165, 0, 0.5);    \n}\n\npath.minor:active, path.minor.highlight {\n    fill: orange  \n}\n\n");const d=["C","F","B♭","E♭","A♭","C♯/D♭","F♯/G♭","B/C♭","E","A","D","G"],h=["A","D","G","C","F","A♯/B♭","D♯/E♭","A♭/G♯","C♯","F♯","B","E"],l=245,p=170;class m extends HTMLElement{constructor(){super(),this.root=this.attachShadow({mode:"open"}),this.root.adoptedStyleSheets.push(c),this.root.innerHTML='<div class="container">\n    <svg version="1.1" viewBox="-250 -250 500 500" xmlns="http://www.w3.org/2000/svg">\n    </svg>\n</div>\n',this.svg=this.root.querySelector("svg")}connectedCallback(){this._redraw()}disconnectedCallback(){}attributeChangedCallback(e,t,n){}emitEvent(e,t){this.dispatchEvent(new CustomEvent(e,{bubbles:!0,composed:!0,detail:{origin:this,value:t}}))}_redraw(){this.svg.append(this.circle(0,0,l,"major")),this.svg.append(this.circle(0,0,p,"minor"));let e=this.getAttribute("selected")||"";const t=this.text(0,0,"","selection"),n=Math.PI/6;let s=Math.PI/-2;for(let i=0;i<12;i++){const o=d[i],r=h[i].split("/")[0],a=this.arc(s+n/2,s-n/2,l,p),c=this.arc(s+n/2,s-n/2,p,95,"minor");this.svg.append(a),this.svg.append(c),a.classList.add("selector"),c.classList.add("selector"),d[i]+" major"===e&&a.classList.add("highlight"),h[i]+" minor"===e&&c.classList.add("highlight"),a.addEventListener("click",(t=>{e=d[i]+" major",this.emitEvent("selected",e),this.setAttribute("selected",e),this.root.querySelectorAll(".selector").forEach((e=>e.classList.remove("highlight"))),a.classList.add("highlight")})),c.addEventListener("click",(t=>{e=h[i]+" minor",this.emitEvent("selected",e),this.setAttribute("selected",e),this.root.querySelectorAll(".selector").forEach((e=>e.classList.remove("highlight"))),c.classList.add("highlight")})),a.addEventListener("pointerenter",(e=>{t.innerHTML=o.split("/")[0]+" Major"})),a.addEventListener("pointerleave",(e=>{t.innerHTML=""})),c.addEventListener("pointerenter",(e=>{t.innerHTML=r+" minor"})),c.addEventListener("pointerleave",(e=>{t.innerHTML=""})),this.svg.append(this.text(205*Math.cos(s),205*Math.sin(s),o,"major")),this.svg.append(this.text(130*Math.cos(s),130*Math.sin(s),r,"minor")),this.svg.append(this.line(0,0,l*Math.cos(s+n/2),l*Math.sin(s+n/2),"arc")),s-=n}this.svg.append(this.circle(0,0,95,"center")),this.svg.append(t)}circle(e,t,n,s){const i=document.createElementNS("http://www.w3.org/2000/svg","circle");return i.setAttribute("cx",`${e}`),i.setAttribute("cy",`${t}`),i.setAttribute("r",`${n}`),s&&i.classList.add(s),i}line(e,t,n,s,i){const o=document.createElementNS("http://www.w3.org/2000/svg","line");return o.setAttribute("x1",`${e}`),o.setAttribute("y1",`${t}`),o.setAttribute("x2",`${n}`),o.setAttribute("y2",`${s}`),i&&o.classList.add(i),o}text(e,t,n,s){const i=document.createElementNS("http://www.w3.org/2000/svg","text");i.setAttribute("x",`${e}`),i.setAttribute("y",`${t}`);const o=n.split("/");for(let e=0;e<o.length;e++){const t=o[e];t.length>0?(i.append(this.tspan(0,20*e,t.substring(0,1))),i.append(this.tspan(-2,0,t.substring(1),"accidental"))):i.append(this.tspan(0,20*e,t))}return s&&i.classList.add(s),i}tspan(e,t,n,s){const i=document.createElementNS("http://www.w3.org/2000/svg","tspan");return i.setAttribute("dx",`${e}`),i.setAttribute("dy",`${t}`),i.innerHTML=n,s&&i.classList.add(s),i}arc(e,t,n,s,i){const o=document.createElementNS("http://www.w3.org/2000/svg","path"),r=["M",n*Math.cos(e),n*Math.sin(e),"A",n,n,t-e,0,0,n*Math.cos(t),n*Math.sin(t),"L",s*Math.cos(t),s*Math.sin(t),"A",s,s,e-t,0,1,s*Math.cos(e),s*Math.sin(e),"Z"];return o.setAttribute("d",r.join(" ")),i&&o.classList.add(i),o}_describeArc(e,t){const n=e*Math.cos(t),s=e*Math.sin(t);return["M",e*Math.cos(0),e*Math.sin(0),"A",e,e,0,t>=Math.PI?1:0,1,n,s].join(" ")}}m.ELEMENT="circle-of-fifths",m.observedAttributes=["selected"];const u=new CSSStyleSheet;u.replaceSync('* {\n    box-sizing: border-box;\n}\n\n.instrument {\n    display: grid;\n    grid-template-columns: repeat(8, 1fr);\n}\n\n.wrapper {\n    margin: 0 3px 3px 0;\n    color: white;\n    flex: 1;\n    border-radius: 4px;\n    border: 2px solid #fff1;\n    box-shadow: 3px 3px 3px #0002;\n}\n\n.drum-pad {\n    min-width: 58px;\n    height: 72px;\n    text-align: center;\n    border-radius: 1px;\n    background-color: #fff2;\n    display: flex;\n    flex-direction: column;\n    border: 1px solid #fff5;\n    position: relative;\n}\n.drum-pad:hover { \n    background-color: #fff5;\n    border: 1px solid #fff7;\n}\n.drum-pad.pressed {\n    background-color: #fff7;\n    border: 1px solid #fff7;\n}\n.drum-name {\n    color: #fffa;\n    font-weight: bold;\n    text-transform: uppercase;\n    font-size: 10px;\n    user-select: none;\n    flex: 1;\n    align-content: center;\n}\n.drum-pad:hover .drum-name { color: white; }\n\n.pad-name, .key-hint {\n    font-size: 10px;\n    pointer-events: none;\n    user-select: none;\n    position: absolute;\n    bottom: 3px;\n    color: #fff6;\n}\n.pad-name {\n    font-weight: bold;\n    color: #fffd;\n    left: 3px;\n}\n.key-hint { \n    right: 3px;\n    display: none;\n}\n.key-hint.show {\n    display: block;\n}\n\n.wrapper:has(.drum-pad.pressed[data-note="0"]) {\n    background-color: hsl(0 90 50);\n    box-shadow: 0px 0px 5px hsl(0 90 50);\n}\n.wrapper:has(.drum-pad.pressed[data-note="1"]) {\n    background-color: hsl(22 90 50);\n    box-shadow: 0px 0px 5px hsl(22 90 50);\n}\n.wrapper:has(.drum-pad.pressed[data-note="2"]) {\n    background-color: hsl(44 90 50);\n    box-shadow: 0px 0px 5px hsl(44 90 50);\n}\n.wrapper:has(.drum-pad.pressed[data-note="3"]) {\n    background-color: hsl(66 90 50);\n    box-shadow: 0px 0px 5px hsl(66 90 50);\n}\n.wrapper:has(.drum-pad.pressed[data-note="4"]) {\n    background-color: hsl(88 90 50);\n    box-shadow: 0px 0px 5px hsl(88 90 50);\n}\n.wrapper:has(.drum-pad.pressed[data-note="5"]) {\n    background-color: hsl(110 90 50);\n    box-shadow: 0px 0px 5px hsl(110 90 50);\n}\n.wrapper:has(.drum-pad.pressed[data-note="6"]) {\n    background-color: hsl(132 90 50);\n    box-shadow: 0px 0px 5px hsl(132 90 50);\n}\n.wrapper:has(.drum-pad.pressed[data-note="7"]) {\n    background-color: hsl(154 90 50);\n    box-shadow: 0px 0px 5px hsl(154 90 50);\n}\n.wrapper:has(.drum-pad.pressed[data-note="8"]) {\n    background-color: hsl(176 90 50);\n    box-shadow: 0px 0px 5px hsl(176 90 50);\n}\n.wrapper:has(.drum-pad.pressed[data-note="9"]) {\n    background-color: hsl(198 90 50);\n    box-shadow: 0px 0px 5px hsl(198 90 50);\n}\n.wrapper:has(.drum-pad.pressed[data-note="10"]) {\n    background-color: hsl(220 90 50);\n    box-shadow: 0px 0px 5px hsl(220 90 50);\n}\n.wrapper:has(.drum-pad.pressed[data-note="11"]) {\n    background-color: hsl(242 90 50);\n    box-shadow: 0px 0px 5px hsl(242 90 50);\n}\n.wrapper:has(.drum-pad.pressed[data-note="12"]) {\n    background-color: hsl(264 90 50);\n    box-shadow: 0px 0px 5px hsl(264 90 50);\n}\n.wrapper:has(.drum-pad.pressed[data-note="13"]) {\n    background-color: hsl(286 90 50);\n    box-shadow: 0px 0px 5px hsl(286 90 50);\n}\n.wrapper:has(.drum-pad.pressed[data-note="14"]) {\n    background-color: hsl(308 90 50);\n    box-shadow: 0px 0px 5px hsl(308 90 50);\n}\n.wrapper:has(.drum-pad.pressed[data-note="15"]) {\n    background-color: hsl(330 90 50);\n    box-shadow: 0px 0px 5px hsl(330 90 50);\n}\n\n@media screen and (max-width: 650px) {\n    .instrument {\n        grid-template-columns: repeat(4, 1fr);\n    }\n}');class v extends HTMLElement{constructor(){super(),this.armed=!1,this.keys="qwertyuiasdfghjk",this.root=this.attachShadow({mode:"open"}),this.root.adoptedStyleSheets.push(u),this.root.innerHTML='<div class="instrument"></div>\n'}connectedCallback(){document.addEventListener("keydown",(e=>this.onKeyDown(e))),document.addEventListener("keyup",(e=>this.onKeyUp(e)));for(let e=0;e<16;e++){const t=document.createElement("div");t.classList.add("wrapper"),t.innerHTML=`\n                <div class="drum-pad" data-hint="${this.keys[e]}" data-note="${e}">\n                    <div class="drum-name"></div>\n                    <div class="key-hint">${this.keys[e]}</div>\n                    <div class="pad-name">${e}</div>\n                </div>`,this.root.querySelector(".instrument")?.append(t)}this.root.querySelectorAll(".drum-pad").forEach((e=>{let t=!1;e.addEventListener("pointerdown",(n=>{e.classList.add("pressed"),this.emitNoteOn(this.getPadNote(e),"pointer"),t=!0})),e.addEventListener("pointerup",(n=>{t&&(e.classList.remove("pressed"),this.emitNoteOff(this.getPadNote(e),"pointer"),t=!1)})),e.addEventListener("pointerenter",(n=>{n.buttons>0&&(e.classList.add("pressed"),this.emitNoteOn(this.getPadNote(e),"pointer"),t=!0)})),e.addEventListener("pointerleave",(n=>{e.classList.remove("pressed"),this.emitNoteOff(this.getPadNote(e),"pointer"),t=!0}))}))}disconnectedCallback(){}attributeChangedCallback(e,t,n){"armed"===e&&n!==t&&("true"===n?this.armKeyboard():this.disarmKeyboard())}emitNoteOn(e,t,n=90){if(e<0)return;const s=new CustomEvent("note-on",{bubbles:!0,composed:!0,detail:{note:e,source:t,velocity:n}});this.dispatchEvent(s)}emitNoteOff(e,t){if(e<0)return;const n=new CustomEvent("note-off",{bubbles:!0,composed:!0,detail:{note:e,source:t,velocity:0}});this.dispatchEvent(n)}emitPitchBend(e,t){const n=new CustomEvent("pitch-bend",{bubbles:!0,composed:!0,detail:{source:t,value:e}});this.dispatchEvent(n)}noteOn(e,t=90){this.root.querySelector(`.drum-pad[data-note="${e}"]`)?.classList.add("pressed")}noteOff(e){this.root.querySelector(`.drum-pad[data-note="${e}"]`)?.classList.remove("pressed")}allNotesOff(){this.root.querySelectorAll(".drum-pad")?.forEach((e=>e.classList.remove("pressed")))}isNoteOn(e){const t=this.root.querySelector(`.drum-pad[data-note="${e}"]`);return null!==t&&t.classList.contains("pressed")}armKeyboard(){this.armed=!0,this.setAttribute("armed","true"),this.root.querySelectorAll(".key-hint").forEach((e=>{e.classList.add("show")}))}disarmKeyboard(){this.armed=!1,this.setAttribute("armed","false"),this.root.querySelectorAll(".key-hint").forEach((e=>{e.classList.remove("show")}))}get isKeyboardArmed(){return this.armed}setPatch(e){if(Array.isArray(e.nodes))for(let t of e.nodes)if("drums"===t.type&&Array.isArray(t.samples)){for(let e of t.samples)if("number"==typeof e.step&&"string"==typeof e.name){const t=this.root.querySelector(`.drum-pad[data-note="${e.step}"] .drum-name`);t&&(t.innerHTML=e.name)}return}}onKeyDown(e){if(!(e.ctrlKey||e.metaKey||e.shiftKey||1==e.repeat)&&this.isKeyboardArmed){const t=e.key.toLowerCase();this.root.querySelector(`.drum-pad[data-hint="${t}"]`)?.classList.add("pressed");const n=this.keys.indexOf(t);n>=0?this.emitNoteOn(n,"keyboard"):"ArrowDown"==e.key?this.emitPitchBend(-200,"keyboard"):"ArrowUp"==e.key&&this.emitPitchBend(200,"keyboard")}}onKeyUp(e){if("ArrowUp"==e.key||"ArrowDown"==e.key)this.emitPitchBend(0,"keyboard");else{const t=e.key.toLowerCase();this.root.querySelector(`.drum-pad[data-hint="${t}"]`)?.classList.remove("pressed");const n=this.keys.indexOf(t);n>=0&&this.emitNoteOff(n,"keyboard")}}getPadNote(e){return parseInt(e?.getAttribute("data-note")??"-1")}}v.observedAttributes=["armed"],v.ELEMENT="drums-instrument";const g=new CSSStyleSheet;g.replaceSync("/*\n@keyframes fade-out {\n    0% {\n        opacity: 1.0;\n    }\n\n    100% {\n        opacity: 0.0;\n    }\n}\n*/\n.instrument {\n    position: relative;\n    box-sizing: border-box;\n    display: flex;\n    background-color: #222;\n    overflow: hidden;\n    flex-direction: column;\n}\n\n.instrument.armed {\n    outline: 1px solid gold;\n}\n\n.naturals, .accidentals {\n    width: 100%;\n    display: flex;\n}\n.accidentals {\n    height: 50px;\n    position: relative;\n    top: 10px;\n    left: -20px;\n}\n.marimba-key, .spacer {\n    border: 2px solid #fff2;\n    flex: 1;\n    margin: 3px;\n    box-sizing: border-box;\n    min-width: 34px;\n}\n\n.marimba-key {\n    background-color: burlywood;\n    background-image: url('/assets/images/marimba-key.png');\n    background-position: center;\n    background-size: cover;\n    border-radius: 0.25rem;\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n    height: 160px;\n    font-size: 12px;\n    padding-top: 20px;\n    color: #fff9;\n    user-select: none;\n    box-shadow: 0 0 6px #000b;\n}\n\n.spacer {\n    pointer-events: none;\n    opacity: 0;\n}\n\n.marimba-key.accidental {\n    height: 70px;\n    padding-top: 10px;\n    position: relative;\n    top: -20px;\n}\n\n.accidental .note-name { display: none; }\n\n.marimba-key:hover {\n    border: 2px solid #fff7;\n    color: white;\n}\n\n.marimba-key.pressed {\n    border: 2px solid white;\n}\n/*\n.marimba-key.white.pressed.step-0 { fill: rgb(229, 76, 78); }\n.marimba-key.white.pressed.step-2 { fill: rgb(228, 171, 81); }\n.marimba-key.white.pressed.step-4 { fill: rgb(223, 228, 78); }\n.marimba-key.white.pressed.step-5 { fill: rgb(174, 215, 71); }\n.marimba-key.white.pressed.step-7 { fill: rgb(63, 169, 180); }\n.marimba-key.white.pressed.step-9 { fill: rgb(78, 69, 179); }\n.marimba-key.white.pressed.step-11 { fill: rgb(202, 69, 147); }\n*/\n\n.note-name { flex: 1; }\n.key-hint { margin-bottom: 1rem; display: none; }\n.armed .key-hint { display: block; }\n");class w extends HTMLElement{get minKey(){return 48}get maxKey(){return 77}constructor(){super(),this.armed=!1,this.key_map="awsedftgyhujkolp;']",this.root=this.attachShadow({mode:"open"}),this.root.adoptedStyleSheets.push(g),this.root.innerHTML='<div class="instrument"></div>',this.container=this.root.querySelector(".instrument")}connectedCallback(){const e=document.createElement("div"),t=document.createElement("div");e.classList.add("naturals"),t.classList.add("accidentals");for(let n=this.minKey;n<=this.maxKey;n++){const s=this._buildKey(n);if(this.isAccidental(n)?t.append(s):e.append(s),[5,11].includes(n%12)||n==this.maxKey||n==this.minKey){const e=document.createElement("div");e.classList.add("spacer"),t.append(e)}this.container.append(t),this.container.append(e)}document.addEventListener("keydown",(e=>this.onKeyDown(e))),document.addEventListener("keyup",(e=>this.onKeyUp(e)))}_buildKey(e){const t=e%12,n=Math.floor(e/12)-1,s=w.NOTES[t],i=e-this.minKey,o=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div"),c=document.createElement("div");o.classList.add("marimba-key"),r.classList.add("key-hint"),a.classList.add("note-name"),c.classList.add("midi-value"),o.setAttribute("data-note",`${e}`),this.isAccidental(e)?o.classList.add("accidental"):o.style.height=145-2*i+"px",i>=0&&i<this.key_map.length&&(o.setAttribute("data-trigger",`${this.key_map[i]}`),r.innerHTML=`${this.key_map[i]}`),a.innerHTML=`${s}${n}`,c.innerHTML=`${e}`,o.append(c),o.append(a),o.append(r);let d=!1;return o.addEventListener("pointerdown",(t=>{this.emitNoteOn(e,"pointer"),d=!0,o.classList.add("pressed"),t.stopPropagation()})),o.addEventListener("pointerup",(t=>{d=!1,this.emitNoteOff(e,"pointer"),o.classList.remove("pressed")})),o.addEventListener("pointerleave",(t=>{d&&(this.emitNoteOff(e,"pointer"),o.classList.remove("pressed"),d=!1)})),o.addEventListener("pointerenter",(t=>{t.buttons>0&&(this.emitNoteOn(e,"pointer"),o.classList.add("pressed"),d=!0)})),o}disconnectedCallback(){}attributeChangedCallback(e,t,n){if("armed"===e)"false"==n?this.disarmKeyboard():this.armKeyboard()}emitNoteOn(e,t,n=90){const s=new CustomEvent("note-on",{bubbles:!0,composed:!0,detail:{note:e,source:t,velocity:n}});this.dispatchEvent(s)}emitNoteOff(e,t){const n=new CustomEvent("note-off",{bubbles:!0,composed:!0,detail:{note:e,source:t,velocity:0}});this.dispatchEvent(n)}emitPitchBend(e,t){const n=new CustomEvent("pitch-bend",{bubbles:!0,composed:!0,detail:{source:t,value:e}});this.dispatchEvent(n)}isAccidental(e){return[1,3,6,8,10].includes(e%12)}noteOn(e,t=90){const n=this.root.querySelector(`.marimba-key[data-note="${e}"]`);n?.classList.add("pressed")}noteOff(e){const t=this.root.querySelector(`.marimba-key[data-note="${e}"]`);t?.classList.remove("pressed")}allNotesOff(){this.root.querySelectorAll(".marimba-key").forEach((e=>e.classList.remove("pressed")))}isNoteOn(e){const t=this.root.querySelector(`.marimba-key[data-note="${e}"]`);return!!t&&t.classList.contains("pressed")}armKeyboard(){this.armed=!0,this.container.classList.add("armed")}disarmKeyboard(){this.armed=!1,this.container.classList.remove("armed")}get isKeyboardArmed(){return this.armed}getArmedKey(e){return this.root.querySelector(`.marimba-key[data-trigger="${e}"]`)}setPatch(e){}onKeyDown(e){if(!(e.ctrlKey||e.metaKey||e.shiftKey||1==e.repeat))if("ArrowDown"==e.key)this.emitPitchBend(-200,"keyboard");else if("ArrowUp"==e.key)this.emitPitchBend(200,"keyboard");else if(this.isKeyboardArmed){const t=this.getArmedKey(e.key.toLowerCase());t?.classList.add("pressed");const n=b(t?.getAttribute("data-note"),-1);n>0&&this.emitNoteOn(n,"keyboard")}}onKeyUp(e){if("ArrowUp"==e.key||"ArrowDown"==e.key)this.emitPitchBend(0,"keyboard");else{const t=this.getArmedKey(e.key.toLowerCase());t?.classList.remove("pressed");const n=b(t?.getAttribute("data-note"),-1);n>0&&this.emitNoteOff(n,"keyboard")}}}function b(e,t=0){const n=parseInt(e);return isNaN(n)?t:n}w.NOTES=["C","C♯","D","D♯","E","F","F♯","G","G♯","A","A♯","B"],w.observedAttributes=["armed"],w.ELEMENT="marimba-instrument";const x=new CSSStyleSheet;x.replaceSync("/*\n@keyframes fade-out {\n    0% {\n        opacity: 1.0;\n    }\n\n    100% {\n        opacity: 0.0;\n    }\n}\n*/\n.wrapper {\n    display: flex;\n}\n\n.instrument {\n    flex: 1;\n    position: relative;\n    box-sizing: border-box;\n    display: flex;\n}\n.instrument:focus-within {\n    outline: 2px solid gold;\n}\n\n.backdrop {\n    fill: #30303f;\n}\n\n.container {\n    width: 100%;\n}\n\n.piano-key.black {\n    fill: #1d1e1f;\n    stroke: #222;\n    stroke-width: 1.5;\n    rx: 1.5;\n}\n\n.piano-key.black .black-top {\n    fill: #444;\n}\n\n.piano-key.black:hover .black-top {\n    fill: #777;\n}\n\n.piano-key.black.pressed .black-top {\n    fill: #222;\n}\n\n.piano-key.white {\n    fill: #ecedee;\n    stroke: #f7f7f8;\n    stroke-width: 1.5;\n    rx: 1.4;\n}\n\n.piano-key.white:hover {\n    fill: #ccc;\n}\n\n.piano-key.white.pressed {\n    fill: #aaa;\n    stroke: #777;\n}\n/*\n.piano-key.white.pressed.step-0 { fill: rgb(229, 76, 78); }\n.piano-key.white.pressed.step-2 { fill: rgb(228, 171, 81); }\n.piano-key.white.pressed.step-4 { fill: rgb(223, 228, 78); }\n.piano-key.white.pressed.step-5 { fill: rgb(174, 215, 71); }\n.piano-key.white.pressed.step-7 { fill: rgb(63, 169, 180); }\n.piano-key.white.pressed.step-9 { fill: rgb(78, 69, 179); }\n.piano-key.white.pressed.step-11 { fill: rgb(202, 69, 147); }\n*/\n.note-hint,\n.midi-hint,\n.key-hint {\n    stroke: none;\n    font: 9pt sans-serif;\n    fill: #0006;\n    text-anchor: middle;\n    opacity: 0.0;\n    pointer-events: none;\n    user-select: none;\n}\n\n.midi-hint.black, .note-hint.black, .key-hint.black {\n    fill: #ccc;\n}\n.show {\n    opacity: 1.0;\n}\n\n.note-hint.always-show {\n    opacity: 1.0;\n}\n\n.felt {\n    fill: #a00;\n    fill: #0009;\n}\n\n.animated-slide {\n    transition: transform 0.5s ease-in-out;\n}\n\n.mini-piano {\n    opacity: 0.0;\n    transition: opacity 0.25s;\n}\n\n.mini-piano.show {\n    opacity: 1.0;\n}\n\n.octave-button {\n    background-color: transparent;\n    border: none;\n    outline: none;\n    color: #fffa;\n    font-size: 20px;\n    user-select: none;\n    width: 15px;\n    padding: 0;\n    min-height: 100%;\n}\n.octave-button:hover { color: white; }\n.octave-button:active { color: rgb(121, 216, 245); }\n");class y extends HTMLElement{get minKey(){return this.props.minNote}get maxKey(){return this.props.maxNote}get minOctave(){return Math.floor(this.minKey/12)-1}get maxOctave(){const e=Math.floor(this.maxKey/12)-1,t=12*e+12;return this.maxKey-t<this.key_map.length?e-1:e}constructor(){super(),this.props={noteHints:!0,midiHints:!0,armed:!1,minNote:12,maxNote:107,keyRange:17,focusOctave:2},this.container=null,this.parent=document.createElementNS("http://www.w3.org/2000/svg","g"),this.allKeys=document.createElementNS("http://www.w3.org/2000/svg","g"),this.keys=[],this.width=700,this.height=190,this.key_map="awsedftgyhujkolp;']",this.root=this.attachShadow({mode:"open"}),this.root.adoptedStyleSheets.push(x)}connectedCallback(){const e=document.createElement("template");e.innerHTML='<div class="wrapper">\n    <button id="down-octave" class="octave-button" title="Lower Octave" part="octave-down">❮</button>\n    <div class="instrument"><svg class="container" version="1.1"></svg></div>\n    <button id="up-octave" class="octave-button" title="Higher Octave" part="octave-up">❯</button>\n</div>',this.root.appendChild(e.content.cloneNode(!0)),this.container=this.root.querySelector("svg.container"),this.container?.append(this.parent),this.container?.setAttribute("viewBox",`0 0 ${this.props.keyRange*f.width} 190`),this.render(),document.addEventListener("keydown",(e=>this.onKeyDown(e))),document.addEventListener("keyup",(e=>this.onKeyUp(e))),this.root.querySelector("#down-octave")?.addEventListener("click",(e=>{this.setFocusOctave(this.props.focusOctave-1)})),this.root.querySelector("#up-octave")?.addEventListener("click",(e=>{this.setFocusOctave(this.props.focusOctave+1)}))}disconnectedCallback(){}attributeChangedCallback(e,t,n){switch(e){case"note-hints":this.setNoteHints("true"==n);break;case"midi-hints":this.setMidiHints("true"==n);break;case"armed":"true"==n?this.armKeyboard():this.disarmKeyboard();break;case"key-range":this.setKeyRange(parseInt(n));break;case"min-octave":this.setMinOctave(parseInt(n));break;case"max-octave":this.setMaxOctave(parseInt(n));break;case"min-note":this.setMinNote(parseInt(n));break;case"max-note":this.setMaxNote(parseInt(n));break;case"focus-octave":this.setFocusOctave(parseInt(n))}}emitNoteOn(e,t,n=90){const s=new CustomEvent("note-on",{bubbles:!0,composed:!0,detail:{note:e,source:t,velocity:n}});this.dispatchEvent(s)}emitNoteOff(e,t){const n=new CustomEvent("note-off",{bubbles:!0,composed:!0,detail:{note:e,source:t,velocity:0}});this.dispatchEvent(n)}emitPitchBend(e,t){const n=new CustomEvent("pitch-bend",{bubbles:!0,composed:!0,detail:{source:t,value:e}});this.dispatchEvent(n)}noteOn(e,t=90){const n=this._noteToKey(e);n?.press()}noteOff(e){let t=this._noteToKey(e);t?.release()}allNotesOff(){this.keys.forEach((e=>e.release()))}isNoteOn(e){const t=this._noteToKey(e);return null!=t&&t.isPressed()}setKeyRange(e){isNaN(e)||(this.props.keyRange=Math.max(7,Math.min(e,56)),this.container?.setAttribute("viewBox",`0 0 ${this.props.keyRange*f.width} 190`))}setMinOctave(e){isNaN(e)||this.setMinNote(12*e+12)}setMaxOctave(e){isNaN(e)||this.setMaxNote(12*e+23)}setMinNote(e){isNaN(e)||(e=Math.max(0,Math.min(96,e)))!=this.props.minNote&&(this.props.minNote=e,this.render())}setMaxNote(e){isNaN(e)||(e=Math.max(12,Math.min(108,e)))!=this.props.maxNote&&(this.props.maxNote=e,this.render())}armKeyboard(){this.props.armed=!0,this.root.querySelectorAll(".key-hint").forEach((e=>{e.classList.add("show")}))}disarmKeyboard(){this.props.armed=!1,this.root.querySelectorAll(".key-hint").forEach((e=>{e.classList.remove("show")}))}get isKeyboardArmed(){return this.props.armed}getArmedKey(e){let t=12*this.props.focusOctave+12;t<this.props.minNote&&(t+=12);const n=this.key_map.indexOf(e.toLowerCase());return n>=0?this._noteToKey(t+n):null}setPatch(e){"min-note"in e&&this.setMinNote(k(e["min-note"],this.props.minNote)),"max-note"in e&&this.setMaxNote(k(e["max-note"],this.props.maxNote)),"key-range"in e&&this.setKeyRange(k(e["key-range"],this.props.keyRange)),"focus-octave"in e&&this.setFocusOctave(k(e["focus-octave"],this.props.focusOctave))}onKeyDown(e){if(!(e.ctrlKey||e.metaKey||e.shiftKey||1==e.repeat)&&this.isKeyboardArmed){const t=this.getArmedKey(e.key.toLowerCase());t?(this.emitNoteOn(t.note,"keyboard"),t.press()):"ArrowLeft"==e.key?this.setFocusOctave(this.props.focusOctave-1):"ArrowRight"==e.key?this.setFocusOctave(this.props.focusOctave+1):"ArrowDown"==e.key?this.emitPitchBend(-200,"keyboard"):"ArrowUp"==e.key&&this.emitPitchBend(200,"keyboard")}}onKeyUp(e){if("ArrowUp"==e.key||"ArrowDown"==e.key)this.emitPitchBend(0,"keyboard");else{const t=this.getArmedKey(e.key.toLowerCase());t&&(this.emitNoteOff(t.note,"keyboard"),t.release())}}_noteToKey(e){for(let t of this.keys)if(t.note===e)return t;return null}render(){if(null==this.container)return;this.parent.innerHTML="",this.keys=[];const e=document.createElementNS("http://www.w3.org/2000/svg","rect");e.classList.add("backdrop"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),this.parent.append(e),this.allKeys.classList.add("animated-slide");const t=document.createElementNS("http://www.w3.org/2000/svg","g"),n=document.createElementNS("http://www.w3.org/2000/svg","g");for(let e=this.minKey;e<=this.maxKey;e++){const s=new f(e,this);this.keys.push(s),s.black?n.append(s.el):t.append(s.el)}this.allKeys.innerHTML="",this.allKeys.append(t),this.allKeys.append(n),this.parent.append(this.allKeys);const s=document.createElementNS("http://www.w3.org/2000/svg","rect");s.classList.add("felt"),s.setAttribute("width","100%"),s.setAttribute("height","1.5"),s.setAttribute("x","0"),s.setAttribute("y","0"),this.parent.append(s),this.setFocusOctave(this.props.focusOctave)}setFocusOctave(e){if(isNaN(e)||null==this.container)return;this.props.focusOctave=Math.max(this.minOctave,Math.min(this.maxOctave,e));let t=12*this.props.focusOctave+12;t<this.props.minNote&&(t+=12);const n=this._noteToKey(t);if(this.keys.forEach((e=>e.autoRelease())),n){const e=n.x;this.allKeys.style.transform=`translateX(${-e}px)`,this.keys.forEach((e=>e.clearKeymap()));for(let e=0;e<this.key_map.length;e++){const n=this._noteToKey(t+e);n&&n.setKeymap(this.key_map[e])}}}setNoteHints(e){this.props.noteHints=e,this.root.querySelectorAll(".note-hint").forEach((t=>{t.classList.toggle("show",e)}))}get showNoteHints(){return this.props.noteHints}setMidiHints(e){this.props.midiHints=e,this.root.querySelectorAll(".midi-hint").forEach((t=>{t.classList.toggle("show",e)}))}get showMidiHints(){return this.props.midiHints}}y.observedAttributes=["note-hints","midi-hints","armed","min-octave","max-octave","min-note","max-note","key-range","focus-octave"],y.ELEMENT="piano-instrument";class f{get step(){return this.note%12}get octave(){return Math.floor(this.note/12)-1}get name(){return`${f.NOTES[this.step]}`}get offset(){return 7*(this.octave-this.piano.minOctave)+this._key_offsets[this.step]}get x(){return this.offset*f.width}get black(){return[1,3,6,8,10].includes(this.step)}get white(){return!this.black}get height(){return this.black?130:195}constructor(e,t){this.keyHint=document.createElementNS("http://www.w3.org/2000/svg","text"),this._key_offsets=[0,.45,1,1.55,2,3,3.4,4,4.5,5,5.6,6],this._hint_offsets=[-8,0,0,0,8,-8,0,0,0,0,0,8],this.el=document.createElementNS("http://www.w3.org/2000/svg","g"),this.rect=document.createElementNS("http://www.w3.org/2000/svg","rect"),this._down=!1,this.note=e,this.piano=t,this.el.setAttribute("transform",`translate(${this.x}, 0)`),this.el.classList.add("piano-key",`step-${this.step}`),this.el.classList.add(this.black?"black":"white");const n=this.black?10:1.5;let s=n,i=f.width-2*n;if(this.rect.setAttribute("x",`${s}`),this.rect.setAttribute("y","-8"),this.rect.setAttribute("width",`${i}`),this.rect.setAttribute("height",`${this.height}`),this.rect.setAttribute("rx","3"),this.el.append(this.rect),this.black){s+=3,i-=6;const e=document.createElementNS("http://www.w3.org/2000/svg","rect");e.classList.add("black-top"),e.setAttribute("x",`${s}`),e.setAttribute("y","-5"),e.setAttribute("width",`${i}`),e.setAttribute("height",""+(this.height-20)),e.setAttribute("pointer-events","none"),this.el.append(e)}else{const e=document.createElementNS("http://www.w3.org/2000/svg","text");e.classList.add("note-hint"),e.setAttribute("x",`${s+i/2}`),e.setAttribute("y",""+(this.height-17)),e.innerHTML=`${this.name}${this.octave}`,this.piano.showNoteHints&&e.classList.add("show"),0==this.step&&e.classList.add("always-show"),this.el.append(e)}const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.classList.add("midi-hint"),this.black&&o.classList.add("black"),o.setAttribute("x",`${s+i/2}`),o.setAttribute("y",""+(this.height-35)),o.innerHTML=`${this.note}`,this.piano.showMidiHints&&o.classList.add("show"),this.el.append(o);let r=s+i/2+this._hint_offsets[this.step];this.keyHint.classList.add("key-hint"),this.black&&this.keyHint.classList.add("black"),this.keyHint.setAttribute("x",`${r}`),this.keyHint.setAttribute("y",this.black?"45":"60"),this.piano.isKeyboardArmed&&this.keyHint.classList.add("show"),this.el.append(this.keyHint),this.el.addEventListener("pointerdown",(e=>{this.piano.emitNoteOn(this.note,"pointer"),this.press(),e.stopPropagation()})),this.el.addEventListener("pointerup",(e=>{this.piano.emitNoteOff(this.note,"pointer"),this.release()})),this.el.addEventListener("pointerleave",(e=>{this._down&&(this.piano.emitNoteOff(this.note,"pointer"),this.release())})),this.el.addEventListener("pointerenter",(e=>{e.buttons>0&&(this.piano.emitNoteOn(this.note,"pointer"),this.press())}))}press(){this._down=!0,this.el.classList.add("pressed")}release(){this._down&&(this._down=!1,this.el.classList.remove("pressed"))}isPressed(){return this.el.classList.contains("pressed")}autoRelease(){this._down&&(this.piano.emitNoteOff(this.note,"system"),this._down=!1,this.el.classList.remove("pressed"))}setKeymap(e){this.keyHint.innerHTML=e}clearKeymap(){this.keyHint.innerHTML=""}}function k(e,t=0){const n=parseInt(e);return isNaN(n)?t:n}f.NOTES=["C","C♯","D","D♯","E","F","F♯","G","G♯","A","A♯","B"],f.width=45;var L='<?xml version="1.0" encoding="UTF-8"?>\n<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 512 512">\n  \x3c!-- Generator: Adobe Illustrator 29.5.1, SVG Export Plug-In . SVG Version: 2.1.0 Build 141)  --\x3e\n  <path d="M412,223"/>\n  <rect y="8" width="510.85" height="68.04"/>\n  <rect y="150.42" width="398.17" height="68.04"/>\n  <rect x="212.7" y="292.84" width="298.15" height="68.04"/>\n  <rect y="435.26" width="510.85" height="68.04"/>\n</svg>',E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n    \x3c!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e\n    <path d="M499.1 6.3c8.1 6 12.9 15.6 12.9 25.7v72V368c0 44.2-43 80-96 80s-96-35.8-96-80s43-80 96-80c11.2 0 22 1.6 32 4.6V147L192 223.8V432c0 44.2-43 80-96 80s-96-35.8-96-80s43-80 96-80c11.2 0 22 1.6 32 4.6V200 128c0-14.1 9.3-26.6 22.8-30.7l320-96c9.7-2.9 20.2-1.1 28.3 5z"/>\n</svg>';class M extends HTMLElement{constructor(){super(),this.innerHTML='<div class="icon"></div>',this.div=this.querySelector("div.icon")}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(e,t,n){if("icon"===e&&n!=t){switch(n){case"autocompile":this.div.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 512 512">\n  \x3c!-- Generator: Adobe Illustrator 29.6.1, SVG Export Plug-In . SVG Version: 2.1.1 Build 9)  --\x3e\n  <path d="M95.87,199.35c8.17-23.14,21.44-44.9,40.13-63.48,66.35-66.35,173.88-66.35,240.23,0l18.15,18.26h-36.41c-18.79,0-33.97,15.18-33.97,33.97s15.18,33.97,33.97,33.97h118.79c18.79,0,33.97-15.18,33.97-33.97v-118.89c0-18.79-15.18-33.97-33.97-33.97s-33.97,15.18-33.97,33.97v37.37l-18.58-18.68C331.32-4.99,180.79-4.99,87.91,87.89c-25.9,25.9-44.58,56.37-56.05,88.96-6.26,17.73,3.08,37.05,20.7,43.31,17.62,6.26,37.05-3.08,43.31-20.7v-.11ZM25.7,291.39c-5.31,1.59-10.4,4.46-14.54,8.7-4.25,4.25-7.11,9.34-8.6,14.86-.32,1.27-.64,2.65-.85,4.03-.32,1.8-.42,3.61-.42,5.41v118.47c0,18.79,15.18,33.97,33.97,33.97s33.97-15.18,33.97-33.97v-37.26l18.68,18.58h0c92.88,92.78,243.41,92.78,336.19,0,25.9-25.9,44.69-56.37,56.16-88.85,6.26-17.73-3.08-37.05-20.7-43.31-17.62-6.26-37.05,3.08-43.31,20.7-8.17,23.14-21.44,44.9-40.13,63.48-66.35,66.35-173.88,66.35-240.23,0l-.11-.11-18.15-18.15h36.52c18.79,0,33.97-15.18,33.97-33.97s-15.18-33.97-33.97-33.97H35.68c-1.7,0-3.4.11-5.1.32s-3.29.53-4.88,1.06Z"/>\n  <circle cx="256" cy="256" r="68.18"/>\n</svg>';break;case"checkmark":this.div.innerHTML=i;break;case"copy":this.div.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 512 512">\n  \x3c!-- Generator: Adobe Illustrator 29.5.1, SVG Export Plug-In . SVG Version: 2.1.0 Build 141)  --\x3e\n  <path d="M409.86,329.93h-177.43c-8.13,0-14.79-6.65-14.79-14.79V78.57c0-8.13,6.65-14.79,14.79-14.79h129.47l62.75,62.75v188.61c0,8.13-6.65,14.79-14.79,14.79ZM232.43,374.29h177.43c32.62,0,59.14-26.52,59.14-59.14V126.53c0-11.74-4.71-23.01-13.03-31.33l-62.65-62.75c-8.32-8.32-19.59-13.03-31.33-13.03h-129.56c-32.62,0-59.14,26.52-59.14,59.14v236.57c0,32.62,26.52,59.14,59.14,59.14ZM114.14,137.71c-32.62,0-59.14,26.52-59.14,59.14v236.57c0,32.62,26.52,59.14,59.14,59.14h177.43c32.62,0,59.14-26.52,59.14-59.14v-29.57h-44.36v29.57c0,8.13-6.65,14.79-14.79,14.79H114.14c-8.13,0-14.79-6.65-14.79-14.79v-236.57c0-8.13,6.65-14.79,14.79-14.79h29.57v-44.36h-29.57Z"/>\n</svg>';break;case"cross-circle":this.div.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n    \x3c!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e\n    <path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/>\n</svg>';break;case"error":this.div.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n    <circle cx="256" cy="256" r="250" fill="white"/>\n    <path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/>\n</svg>';break;case"gear":this.div.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n    \x3c!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--\x3e\n    <path d="M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"/>\n</svg>';break;case"history":this.div.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 24 24">\n  \x3c!-- Generator: Adobe Illustrator 29.6.1, SVG Export Plug-In . SVG Version: 2.1.1 Build 9)  --\x3e\n  <path d="M10.5,17c-.7,0-1.29-.24-1.78-.73s-.73-1.08-.73-1.78.24-1.29.73-1.78,1.08-.73,1.78-.73c.28,0,.55.04.8.13s.48.21.7.38v-5.5h4v2h-3v5.5c0,.7-.24,1.29-.73,1.78s-1.08.73-1.78.73ZM12,22c-1.38,0-2.68-.26-3.9-.79s-2.28-1.24-3.18-2.14-1.61-1.96-2.14-3.18-.79-2.52-.79-3.9h2c0,1.1.21,2.14.63,3.11s.99,1.83,1.71,2.55,1.58,1.3,2.55,1.73,2.01.64,3.11.64c2.23,0,4.13-.78,5.68-2.33s2.33-3.44,2.33-5.68-.78-4.13-2.33-5.68-3.44-2.33-5.68-2.33c-1.48,0-2.83.36-4.04,1.09s-2.16,1.69-2.86,2.89h2.9v2H2V4h2v2c.92-1.22,2.07-2.19,3.45-2.91,1.38-.73,2.9-1.09,4.55-1.09,1.38,0,2.68.26,3.9.79s2.28,1.24,3.18,2.14,1.61,1.96,2.14,3.18.79,2.52.79,3.9-.26,2.68-.79,3.9-1.24,2.28-2.14,3.18-1.96,1.61-3.18,2.14-2.52.79-3.9.79Z"/>\n</svg>';break;case"lock":this.div.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 512 512">\n  \x3c!-- Generator: Adobe Illustrator 29.5.1, SVG Export Plug-In . SVG Version: 2.1.0 Build 141)  --\x3e\n  <path d="M180.11,149.75v45.54h151.79v-45.54c0-41.93-33.96-75.89-75.89-75.89s-75.89,33.96-75.89,75.89ZM119.39,195.29v-45.54c0-75.42,61.19-136.61,136.61-136.61s136.61,61.19,136.61,136.61v45.54h15.18c33.49,0,60.71,27.23,60.71,60.71v182.14c0,33.49-27.23,60.71-60.71,60.71H104.21c-33.49,0-60.71-27.23-60.71-60.71v-182.14c0-33.49,27.23-60.71,60.71-60.71h15.18Z"/>\n</svg>';break;case"midi":case"midiroll":this.div.innerHTML=L;break;case"minus":this.div.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 512 512">\n  \x3c!-- Generator: Adobe Illustrator 29.6.1, SVG Export Plug-In . SVG Version: 2.1.1 Build 9)  --\x3e\n  <path d="M502,256c0,21.06-17.02,38.08-38.08,38.08H45.08c-21.06,0-38.08-17.02-38.08-38.08s17.02-38.08,38.08-38.08h418.85c21.06,0,38.08,17.02,38.08,38.08Z"/>\n</svg>';break;case"music":case"score":this.div.innerHTML=E;break;case"pause":this.div.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 512 512">\n  \x3c!-- Generator: Adobe Illustrator 29.6.1, SVG Export Plug-In . SVG Version: 2.1.1 Build 9)  --\x3e\n  <path d="M106.67,0C71.33,0,42.67,28.67,42.67,64v384c0,35.33,28.67,64,64,64h42.67c35.33,0,64-28.67,64-64V64C213.33,28.67,184.67,0,149.33,0h-42.67ZM362.67,0c-35.33,0-64,28.67-64,64v384c0,35.33,28.67,64,64,64h42.67c35.33,0,64-28.67,64-64V64c0-35.33-28.67-64-64-64h-42.67Z"/>\n</svg>';break;case"piano":this.div.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg id="svg2" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" version="1.1" viewBox="0 0 100 100">\n  \x3c!-- Generator: Adobe Illustrator 29.5.1, SVG Export Plug-In . SVG Version: 2.1.0 Build 141)  --\x3e\n  <defs>\n    <style>\n      .st0 {\n        fill: #fff;\n      }\n\n      .st1 {\n        display: none;\n      }\n    </style>\n  </defs>\n  <sodipodi:namedview id="namedview12" bordercolor="#666666" borderopacity="1" gridtolerance="10" guidetolerance="10" inkscape:current-layer="svg2" inkscape:cx="57.141381" inkscape:cy="50" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-height="480" inkscape:window-maximized="0" inkscape:window-width="770" inkscape:window-x="43" inkscape:window-y="1" inkscape:zoom="2.6457812" objecttolerance="10" pagecolor="#ffffff" showgrid="false"/>\n  <g id="g4" class="st1">\n    <rect id="rect6" x="-728" y="-227" width="1158" height="397"/>\n  </g>\n  <path id="path4506" class="st0" d="M93.4,94h0V5.55h-18.43v52.87h-7.16v35.59h25.59ZM64.64,94v-35.59h-8.29V5.55h-11.23v52.87h-7.2v35.59h26.73ZM34.78,94h0v-35.59h-8.29V5.55H8.06v88.45h26.72Z" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccccccccccccccccccccccc"/>\n</svg>';break;case"play":this.div.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 512 512">\n  \x3c!-- Generator: Adobe Illustrator 29.6.1, SVG Export Plug-In . SVG Version: 2.1.1 Build 9)  --\x3e\n  <path d="M120.02,8.06c-16.91-10.4-38.16-10.74-55.42-1.03-17.25,9.71-28,28-28,47.88v402.21c0,19.88,10.74,38.16,28,47.88s38.51,9.26,55.42-1.03l329.08-201.11c16.34-9.94,26.28-27.65,26.28-46.85s-9.94-36.79-26.28-46.85L120.02,8.06Z"/>\n</svg>';break;case"plus":this.div.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 512 512">\n  \x3c!-- Generator: Adobe Illustrator 29.6.1, SVG Export Plug-In . SVG Version: 2.1.1 Build 9)  --\x3e\n  <path d="M463.92,217.92h-175.85V46.58c0-21.06-17.02-38.08-38.08-38.08s-38.08,17.02-38.08,38.08v171.35H45.08c-21.06,0-38.08,17.02-38.08,38.08s17.02,38.08,38.08,38.08h166.85v171.35c0,21.06,17.02,38.08,38.08,38.08s38.08-17.02,38.08-38.08v-171.35h175.85c21.06,0,38.08-17.02,38.08-38.08s-17.02-38.08-38.08-38.08Z"/>\n</svg>';break;case"recompile":this.div.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 512 512">\n  \x3c!-- Generator: Adobe Illustrator 29.6.1, SVG Export Plug-In . SVG Version: 2.1.1 Build 9)  --\x3e\n  <path d="M95.87,199.35c8.17-23.14,21.44-44.9,40.13-63.48,66.35-66.35,173.88-66.35,240.23,0l18.15,18.26h-36.41c-18.79,0-33.97,15.18-33.97,33.97s15.18,33.97,33.97,33.97h118.79c18.79,0,33.97-15.18,33.97-33.97v-118.89c0-18.79-15.18-33.97-33.97-33.97s-33.97,15.18-33.97,33.97v37.37l-18.58-18.68C331.32-4.99,180.79-4.99,87.91,87.89c-25.9,25.9-44.58,56.37-56.05,88.96-6.26,17.73,3.08,37.05,20.7,43.31,17.62,6.26,37.05-3.08,43.31-20.7v-.11ZM25.7,291.39c-5.31,1.59-10.4,4.46-14.54,8.7-4.25,4.25-7.11,9.34-8.6,14.86-.32,1.27-.64,2.65-.85,4.03-.32,1.8-.42,3.61-.42,5.41v118.47c0,18.79,15.18,33.97,33.97,33.97s33.97-15.18,33.97-33.97v-37.26l18.68,18.58h0c92.88,92.78,243.41,92.78,336.19,0,25.9-25.9,44.69-56.37,56.16-88.85,6.26-17.73-3.08-37.05-20.7-43.31-17.62-6.26-37.05,3.08-43.31,20.7-8.17,23.14-21.44,44.9-40.13,63.48-66.35,66.35-173.88,66.35-240.23,0l-.11-.11-18.15-18.15h36.52c18.79,0,33.97-15.18,33.97-33.97s-15.18-33.97-33.97-33.97H35.68c-1.7,0-3.4.11-5.1.32s-3.29.53-4.88,1.06Z"/>\n</svg>';break;case"stop":this.div.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 512 512">\n  \x3c!-- Generator: Adobe Illustrator 29.6.1, SVG Export Plug-In . SVG Version: 2.1.1 Build 9)  --\x3e\n  <rect x="13.82" y="13.82" width="484.36" height="484.36" rx="29.9" ry="29.9"/>\n</svg>';break;case"trash":this.div.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 512 512">\n  \x3c!-- Generator: Adobe Illustrator 29.5.1, SVG Export Plug-In . SVG Version: 2.1.0 Build 141)  --\x3e\n  <path d="M174.93,38.44l-6.57,13.06h-87.64c-16.16,0-29.21,13.06-29.21,29.21s13.06,29.21,29.21,29.21h350.57c16.16,0,29.21-13.06,29.21-29.21s-13.06-29.21-29.21-29.21h-87.64l-6.57-13.06c-4.93-9.95-15.06-16.16-26.11-16.16h-109.92c-11.05,0-21.18,6.21-26.11,16.16ZM431.29,139.14H80.71l19.35,309.49c1.46,23.1,20.63,41.08,43.73,41.08h224.4c23.1,0,42.27-17.99,43.73-41.08l19.35-309.49Z"/>\n</svg>';break;case"waveform":this.div.innerHTML='<?xml version="1.0" encoding="UTF-8"?>\n<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 512 512">\n  \x3c!-- Generator: Adobe Illustrator 29.5.1, SVG Export Plug-In . SVG Version: 2.1.0 Build 141)  --\x3e\n  <path d="M412,219"/>\n  <path d="M496.28,249.3h-97.77l-23-73.41c-2.2-8.17-10-13.78-18.55-13.46-8.64.29-15.93,6.4-17.54,14.7l-37.82,194.58L261.7,16.11c-1.02-9.07-8.79-15.97-18.14-16.11h-.28c-9.22,0-17.06,6.64-18.33,15.59l-37.32,261.48-17.26-149.22c-1.02-8.82-8.43-15.61-17.5-16.04-9.08-.35-17.13,5.63-19,14.3l-23.72,109-4.56-25.33c-1.4-7.84-7.91-13.87-16-14.82-8.06-.92-15.88,3.37-19.17,10.65l-21.12,46.71h-30.78c-10.22,0-18.51,8.1-18.51,18.08s8.29,18.08,18.51,18.08h42.83c7.34,0,13.97-4.23,16.94-10.78l1.37-3.04,10.53,58.48c1.54,8.53,9.05,14.8,17.91,14.95,8.79.36,16.6-5.84,18.44-14.31l19.84-91.16,20.93,180.97c1.04,9.06,8.84,15.93,18.15,16.05,9.24.12,17.29-6.56,18.58-15.59l37.06-259.57,37.17,331.43c1,8.9,8.52,15.76,17.68,16.11h.74c8.85,0,16.51-6.15,18.18-14.72l44.69-229.88v.86c0,8.5,7.05,15.37,15.74,15.37h120.98c8.7,0,15.74-6.89,15.74-15.37v-3.6c0-8.5-7.05-15.37-15.74-15.37h.02Z"/>\n</svg>';break;default:this.div.innerHTML=""}const e=this.div.querySelector("svg");e&&(e.style.width="100%")}}}return M.observedAttributes=["icon"],M.ELEMENT="tunepad-icon",customElements.define(n.ELEMENT,n),e.CircleOfFifths=m,e.ContextMenu=r,e.ContextMenuItem=a,e.ContextMenuStyles=o,e.Dial=n,e.DrumPad=v,e.Marimba=w,e.Piano=y,e.TunePadIcon=M,e.toInt=k,e.toNum=function(e,t=0){const n=parseFloat(e);return isNaN(n)?t:n},e}({});
//# sourceMappingURL=tunepad-ui.min.js.map
